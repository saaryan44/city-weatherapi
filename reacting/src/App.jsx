import {useState} from 'react';

const App=()=>{ const [hmm,bmm]=useState({city:"",main:"",desc:"",temp:"", contCode:"",on:""});const getit=async(s)=>{s.preventDefault(); const r1=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${hmm.city}&appid=d6734eae54491062ff3bd0a7797a37b9`); const r2=await r1.json();  if(!r2.name){alert("enter a valid city name");}else{bmm({...hmm,main:r2.weather[0].main,desc:r2.weather[0].description,temp:r2.main.temp,contCode:r2.sys.country,on:r2.name});}};return(<><h1>Enter a city name to get its weather details.</h1><form method="get" autoComplete="off" onSubmit={getit}><fieldset><legend>Enter valid city name</legend><input type="text" name="cityname" placeholder="City Name" value={hmm.city} onChange={(w)=>bmm({...hmm,city:w.target.value})} /><input type="submit" value="Get weather summary" /></fieldset></form><form><fieldset><legend>Weather Summary</legend><h2><ol><li>City Name:  <span>{hmm.on}</span></li><li>Weather status: <span>{hmm.main}</span></li><li>Weather description: <span>{hmm.desc}</span></li><li>Temprature in degree Kelvin: <span>{hmm.temp}</span> </li><li>Temprature in degree Celcius: <span>{hmm.temp===""?"":(hmm.temp-273.15).toFixed(2)}</span></li><li>Country code :<span> {hmm.contCode}</span></li></ol></h2></fieldset></form></>);};

export default App;